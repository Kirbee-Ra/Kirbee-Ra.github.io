폐루프 컨버터의 성능
=

---

## 목차
- 

---

## 시스템 성능의 척도

어떤 시스템의 성능을 판단하는 척도는 여러 가지가 있습니다.
그 중에는 파워 스테이지로부터 판단할 수 있는 **정적 성능(Static Performance)**이 있고, 제어기의 설계에 따른 **동적 성능(Dynamic Performance)**이 있습니다.

### 정적 성능
정적 성능은 효율, 소자의 전압 스트레스, 소자의 전류 스트레스, 전력 밀도, 출력 리플 등으로 판단합니다.

### 동적 성능
동적 성능은 크게 다음의 세 가지로 판단합니다.
1. 주파수 영역의 성능
2. 시간 영역의 성능
3. 안정도

주파수 영역의 성능의 경우, **음파 민감도(Audio-Susceptibility)**와 **출력 임피던스(Output Impedance)**가 있습니다.
시간 영역의 성능의 경우, 부하나 입력 전압을 계단 함수 형태로 가하여 제어 성능을 판단합니다.
**안정도(Stability)**의 경우, **절대 안정도(Absolute Stability)**와 **상대 안정도(Relative Stability)**가 있습니다.

(음파 민감도의 경우, 적당한 단어를 찾기가 어려워 임의로 번역했습니다. 좋은 의견 있으면 피드백 바랍니다.)

---

## 주파수 영역의 성능

다음 폐루프 컨버터의 블록 다이어그램을 살펴봅시다.

(BD)

이 시스템에서 설계해야 하는 부분이 어디인지 살펴봅시다.
먼저 컨버터를 설계했다면, 개루프 전달 함수는 수정할 수 없습니다.
개루프 전달 함수는 모두 컨버터의 변수들로 구성됐기 때문입니다.
PWM 블록의 경우, 기준 신호의 최댓값에만 의존합니다.
따라서 이 또한 수정할 수 없습니다.
남은 것은 전압 피드백 보상기입니다.
전압 피드백 보상기는 이전에 다뤘듯이 몇 가지 조건에 따라 우리가 임의로 설계할 수 있습니다.
이제 이를 통해 전체 시스템을 어떻게 설계해야 하는지 설명하겠습니다.

### 루프 이득

(BD)

블록 다이어그램을 살펴보면 루프 이득은 다음과 같음을 알 수 있습니다.

$$
T_m(s)=-\left(-F_v(s)\right)F_mG_{vd}(s)=F_v(s)F_mG_{vd}(s)
$$

이제 이 루프 이득을 통해 다른 전달 함수들을 구해보겠습니다.

### 음파 민감도

폐루프 컨버터에서 음파 민감도는 다음과 같이 정의됩니다.

$$
		A_u(s)=\frac{\hat{v}_o(s)}{\hat{v}_{in}(s)}\Big\vert_{CL}
$$

개루프 입력-출력 전달 함수와 비슷해 보이지만, 음파 민감도는 폐루프에 대한 식입니다.
이전과 같이 관심 있는 변수인 $$\hat{v}_{in},\hat{v}_o$$를 제외한 다른 변수들의 변화는 무시하면 다음과 같이 쓸 수 있습니다.

$$
A_u(s)=\frac{G_{vs}(s)}{1+T_m(s)}
$$

과거에 쓰이던 컨버터는 스위칭 주파수가 음파의 대역에 포함되어 있었습니다.
그래서 인덕터나 변압기 등의 자기적 소자가 스위칭 주파수에 따라 진동하면 그 음파가 출력에 영향을 미쳤습니다.
현대에 쓰이는 컨버터는 스위칭 주파수가 음파의 대역과 겹치지 않습니다.
하지만 입력 전원이 $$60\ \text{Hz}$$의 교류로, 정류 회로를 거치면 $$120\ \text{Hz}$$의 리플을 갖는 입력 전압이 파워 스테이지로 들어가서 동작에 영향을 미칩니다.
그리고 다른 경로를 통해 파워 스테이지로 입력되는 노이즈 또한 컨버터의 동작에 영향을 미칩니다.
음파 민감도는 이러한 외부 노이즈들이 출력에 얼마나 영향을 미치는지를 나타냅니다.
루프 이득을 조절하여 음파 민감도를 변화시킬 수 있습니다.
음파 민감도를 모든 주파수 대역에 대해 최소화하는 것이 루프 이득의 설계 목표 중 하나입니다.

### 출력 임피던스

폐루프 컨버터에서 출력 임피던스는 다음과 같이 정의됩니다.

$$
		Z_o(s)=\frac{\hat{v}_o(s)}{\hat{i}_o(s)}\Big\vert_{CL}
$$

개루프 출력 임피던스 전달 함수와 비슷해 보이지만, 출력 임피던스는 폐루프에 대한 식입니다.
이전과 같이 관심 있는 변수인 $$\hat{v}_o,\hat{i}_o$$를 제외한 다른 변수들의 변화는 무시하면 다음과 같이 쓸 수 있습니다.

$$
Z_o(s)=\frac{Z_p(s)}{1+T_m(s)}
$$

부하 전류가 외부의 영향 등으로 인해 변동되어도 컨버터는 일정한 출력을 내야 합니다.
부하 전류의 변동에 따라 출력 전압이 얼마나 변동되는지를 나타내는 지표가 바로 출력 임피던스입니다.
이 또한 루프 이득을 조절하여 변화시킬 수 있습니다.
음파 민감도와 마찬가지로 모든 주파수 대역에 대해 최소화하는 것이 루프 이득의 설계 목표 중 하나입니다.

---

## 시간 영역 성능

시간 영역 성능은 앞서 언급한 바와 같이 입력 전압이나 부하 전류의 변동에 따라 출력 전압이 얼마나 제어되는지 보는 것입니다.

## 계단 함수 부하 변동

다음과 같이 순간적으로 부하가 줄어드는 경우를 생각해봅시다.

(step load)

이때, 순간적으로 출력 전압에 오버슛이 발생합니다.
정상 상태에서 일정한 전력이 출력되는 상황을 생각해봅시다.
순간적으로 부하를 낮추면, 이미 출력단으로 넘어온 전력은 변하지 않으므로 전압에 오버슛이 발생합니다.
이 오버슛된 전압이 피드백 회로에 입력이 됩니다.
그 이후에 듀티 비가 조정되면서 출력 전압이 제어됩니다.
부하가 순간적으로 높아지는 경우는 같은 이유로 출력 전압에 언더슛이 발생합니다.
마찬가지로 이후에 피드백을 통해 전압이 제어됩니다.

이제 출력 전압 변동을 정량적으로 분석해봅시다.
출력 전압은 다음과 같이 쓸 수 있습니다.

$$
	\hat{v}_o(s)=\hat{i}_o(s)\frac{\hat{v}_o(s)}{\hat{i}_o(s)}
$$

부하 전류는 계단 함수 형태이므로 다음과 같습니다.

$$
\begin{align*}
		&\hat{i}_o(t)=I_{step}u(t)\\
		&\rightarrow \hat{i}_o(s)=\frac{I_{step}}{s}
	\end{align*}
$$

부하 전류와 출력 전압의 비는 출력 임피던스입니다.

$$
\frac{\hat{v}_o(s)}{\hat{i}_o(s)}=Z_o(s)
$$

따라서 출력 전압 변동은 다음과 같습니다.

$$
\hat{v}_o(s)=\frac{I_{step}}{s}Z_o(s)
$$

이 식에 라플라스 역변환을 취하면 시간 영역의 출력 전압을 얻을 수 있습니다.

$$
\hat{v}_o(t)=\mathscr{L}^{-1}\left[\frac{I_{step}}{s}Z_o(s)\right]
$$

출력 전압이 진동하지 않고, 빠르게 감쇠되도록 제어기를 설계해야 합니다.

## 계단 함수 입력 변동

다음과 같이 순간적으로 입력이 줄어드는 경우를 생각해봅시다.

(in step)

이때, 순간적으로 출력 전압에 언더슛이 발생합니다.
두 변수는 다른 변수들이 고정된 상태에서 비례 관계이므로 당연한 결과입니다.
이후에 언더슛된 전압이 피드백 회로에 입력이 됩니다.
그 이후에 듀티 비가 조정되면서 출력 전압이 제어됩니다.
입력 전압이 순간적으로 높아지는 경우는 같은 이유로 출력 전압에 오버슛이 발생합니다.
마찬가지로 이후에 피드백을 통해 전압이 제어됩니다.

이제 출력 전압 변동을 정량적으로 분석해봅시다.
출력 전압은 다음과 같이 쓸 수 있습니다.

$$
	\hat{v}_o(s)=\hat{v}_{in}(s)\frac{\hat{v}_o(s)}{\hat{v}_{in}(s)}
$$

부하 전류는 계단 함수 형태이므로 다음과 같습니다.

$$
\begin{align*}
		&\hat{v}_{in}(t)=V_{step}u(t)\\
		&\rightarrow \hat{v}_{in}(s)=\frac{V_{step}}{s}
	\end{align*}
$$

입력 전압와 출력 전압의 비는 음파 민감도입니다.

$$
\frac{\hat{v}_o(s)}{\hat{v}_{in}(s)}=A_u(s)
$$

따라서 출력 전압은 다음과 같습니다.

$$
\hat{v}_o(s)=\frac{I_{step}}{s}A_u(s)
$$

이 식에 라플라스 역변환을 취하면 시간 영역의 출력 전압을 얻을 수 있습니다.

$$
\hat{v}_o(t)=\mathscr{L}^{-1}\left[\frac{I_{step}}{s}A_u(s)\right]
$$

출력 전압이 진동하지 않고, 빠르게 감쇠되도록 제어기를 설계해야 합니다.

---

## 안정도

컨버터의 안정도는 출력 전압을 측정하면 확인할 수 있습니다.
그림과 같이 발산하는 컨버터는 불안정한 상태입니다.
에너지 보존 법칙에 따라 유한한 입력에 대해 무한한 출력이 발생할 수 없습니다.
이렇게 발산하는 출력을 갖는 컨버터는 무한한 입력을 가지므로 큰 문제가 발생합니다.

---
