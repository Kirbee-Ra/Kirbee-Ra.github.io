필터 회로
=

---

## 목차

- [필터](#필터)
- [이상적인 필터](#이상적인-필터)
- [필터의 차수](#필터의-차수)
- [수동 필터와 능동 필터](#수동 필터와-능동 필터)
- [차단 주파수](#차단-주파수)
- [필터 회로의 동작](#필터-회로의-동작)

---

## 필터

**필터(Filter)**란 이름 그대로 원치 않는 것들을 거르고, 원하는 것들만 얻고자 하는 장치입니다.
회로의 관점에서는 원하는 주파수 대역의 신호만 출력하는 회로를 말합니다.
다음과 같이 입력 전압 대비 출력 전압의 전달 함수로 정의됩니다.

$$
H(s)=\frac{V_o(s)}{V_{in}(s)}
$$

주파수에 대한 필터이므로 당연히 주파수 영역에서 해석하는 것이 유리합니다.
따라서 앞으로도 [보드 선도](../ControlEngineering/BodePlot.md)를 통해 설명할 것입니다.

---

## 이상적인 필터

이상적인 필터는 정확히 원하는 주파수 대역의 신호만 출력하고, 그 외의 주파수 대역의 신호는 모두 차단합니다.
다음 그림과 같이 계단 함수 형태의 **통과 대역(Passband)**과 **차단 대역(Stopband)**으로 구성됩니다.

(Filter)

### 저역 필터

**저역 필터(Low Pass Filter, LPF)**는 **저주파 통과 필터**라고도 하며, 오직 저주파 신호만을 출력하는 필터입니다.
다음 그림과 같이 저주파 대역에 통과 대역이 있고, 고주파 대역에 차단 대역이 있습니다.

(LPF)

### 고역 필터

**고역 필터(High Pass Filter, HPF)**는 **고주파 통과 필터**라고도 하며, 오직 고주파 신호만을 출력하는 필터입니다.
다음 그림과 같이 고주파 대역에 통과 대역이 있고, 저주파 대역에 차단 대역이 있습니다.

(LPF)

### 대역 필터

**대역 필터(Band Pass Filter, BPF)**는 특정 주파수 대역의 신호만을 출력하는 필터입니다.
다음 그림과 같이 출력하고자 하는 주파수 대역에 통과 대역이 있고, 그 외의 대역에 차단 대역이 있습니다.

(BPF)

### 대역 차단 필터

**대역 차단 필터(Band Stop Filter, BSF)**는 특정 주파수 대역의 신호만을 차단하는 필터입니다.
다음 그림과 같이 차단하고자 하는 주파수 대역에 차단 대역이 있고, 그 외의 대역에 통과 대역이 있습니다.

(BSF)

---

## 필터의 차수

필터는 다양한 소자들로 구성할 수 있습니다.
그에 따라 전달 함수의 형태도 여러 가지로 나타납니다.
분모가 주파수에 대해 1차 식으로 나타나는 경우는 **1차 필터(First-Order Filter)**라고 합니다.
분모가 주파수에 대해 2차 식으로 나타나는 경우는 **2차 필터(Second-Order Filter)**라고 합니다.
주로 이 두 가지를 다룰 것입니다.

---

## 수동 필터와 능동 필터

필터는 여러 회로 소자들로 구성됩니다.
그 중에는 수동 소자인 저항, 인덕터, 축전기가 있고, 또 연산 증폭기로도 구성할 수 있습니다.

### [수동 필터](./PassiveFilter.md)

**수동 필터(Passive Filter)**는 수동 소자인 저항, 인덕터, 축전기로만 구성된 필터입니다.
수동 필터는 회로가 간단하고, 저렴하다는 장점이 있습니다. 하지만 전원이나 부하에 직렬 임피던스가 존재한다면, 주파수 응답 특성이 달라집니다.
또한 수동 소자의 특성상, 신호의 증폭이 어렵습니다.
그러므로 수동 필터의 전달 함수의 크기는 최대 $$1$$입니다.

### 능동 필터

**능동 필터(Active Filter)**는 능동 소자인 연산 증폭기가 활용되는 필터입니다.
능동 필터는 인덕터 없이 대역 필터와 대역 차단 필터를 구성할 수 있습니다.
그리고 신호의 증폭이 가능합니다.
또한 저항성 부하가 연결되어도 필터의 특성에 영향을 미치지 않습니다.

---

## 차단 주파수

실제 필터 회로는 이상적인 필터처럼 구성할 수 없습니다.
그렇다면 통과 대역과 차단 대역을 구분짓는 기준이 있어야 합니다.
이 기준을 **차단 주파수(Cut-Off Frequency)**라고 합니다.
차단 주파수는 전달 함수의 크기가 $$\displaystyle\frac{1}{\sqrt{2}}$$배로 줄어드는 주파수입니다.

$$
\left\vert H(j\omega_c)\right\vert=\frac{1}{\sqrt{2}}\left\vert H\right\vert_{max}
$$

이 차단 주파수는 평균 전력이 최댓값의 절반이 되는 주파수로도 정의할 수 있습니다.
전력이 절반이 되었다는 것은 전압 비나 전류 비가 $$\displaystyle\frac{1}{\sqrt{2}}$$배가 되었다는 의미입니다.

수동 필터는 증폭을 할 수 없으므로 전달 함수의 크기의 최댓값은 $$1$$입니다.
차단 주파수에서의 전달 함수의 크기를 데시벨 스케일로 나타내면 다음과 같습니다.

$$
\begin{align*}
			&\left\vert H(j\omega_c)\right\vert=\frac{1}{\sqrt{2}}\\
			&\rightarrow20\log\left\vert H(j\omega_c)\right\vert=-3\ \text{dB}
	\end{align*}
$$

이때 위상의 경우는 필터의 차수에 따라 다릅니다.
1차 필터는 주파수에 대한 항이 1차항으로 나타납니다.
2차 필터는 주파수에 대한 항이 2차항으로 나타납니다.
이는 각 부분에서 자세히 다루겠습니다.

### 저역 필터

저역 필터의 경우, 주파수가 작을 수록 전달 함수의 크기가 커져야 합니다.
따라서 차단 주파수와 증폭비 $$A$$를 이용하여 다음과 같이 나타낼 수 있습니다.

$$
H_{LPF}(s)=\frac{A\omega_c}{s+\omega_c}
$$

극한 $$s\rightarrow j0$$을 취하면 $$A$$가 됩니다.

### 고역 필터

고역 필터의 경우, 주파수가 클 수록 전달 함수의 크기가 커져야 합니다.
따라서 차단 주파수와 증폭비 $$A$$를 이용하여 다음과 같이 나타낼 수 있습니다.

$$
H_{HPF}(s)=\frac{As}{s+\omega_c}
$$

극한 $$s\rightarrow j\infty$$을 취하면 $$A$$가 됩니다.

---

## 필터 회로의 동작

어떤 신호가 필터를 거칠 때, 출력이 어떻게 나오는지 설명하겠습니다.
우선 주파수 영역에서 계산을 한 뒤, 시간 영역에서 분석을 해봅시다.

### 직류 응답

먼저 직류 응답에 대해 살펴봅시다.
다음의 신호를 저역 필터와 고역 필터에 모두 입력시켰다고 해봅시다.

$$
x(t)=u(t)
$$

주파수 영역에서는 다음과 같이 변환됩니다.

$$
X(s)=\frac{1}{s}
$$

각 필터에서의 출력은 다음과 같습니다.

$$
\begin{align*}
&Y_{LPF}(s)=H_{LPF}(s)X(s)=\frac{1}{s}\frac{A\omega_c}{s+\omega_c}\\
&Y_{HPF}(s)=H_{HPF}(s)X(s)=\frac{1}{s}\frac{As}{s+\omega_c}
\end{align*}
$$

시간 영역에서는 다음과 같이 나타납니다.

$$
\begin{align*}
&y_{LPF}(t)=A\left(1-e^{-\omega_ct}\right)u(t)\\
&y_{HPF}(t)=Ae^{-\omega_ct}u(t)
\end{align*}
$$

저역 필터를 통과한 신호는 시간에 따라 $$1$$에 가까워집니다.
고역 필터를 통과한 신호는 시간에 따라 $$0$$에 가까워집니다.
두 신호 모두 공통된 항 $$e^{-\omega_ct}$$이 있습니다.
신호가 이런 식으로 지수 함수의 형태로 변하는 경우, 신호가 일정한 비율로 변하는 시간을 정의하여 분석합니다.
이를 **시간 상수(Time Constant)**라고 하고, 신호가 기존보다 $$\displaystyle\frac{1}{e}$$배로 변하는 시간을 의미합니다.
주파수에 대해 1차 식으로 나타나는 이런 1차 필터의 경우는 시간 상수가 이와 같이 정의됩니다.

$$
\tau=\frac{1}{\omega_c}
$$

정상 상태의 값, 즉 최종값에 대해서도 기술할 수 있습니다.
초기 상태로부터 다음과 같이 쓸 수 있습니다.

- $$1\tau$$가 지나면 최종값의 $$1-\displaystyle\frac{1}{e}=63\ \%$$만큼 근접합니다.
- $$3\tau$$가 지나면 최종값의 $$1-\displaystyle\frac{1}{e^3}=95\ \%$$만큼 근접합니다.
- $$5\tau$$가 지나면 최종값의 $$1-\displaystyle\frac{1}{e^5}=99\ \%$$만큼 근접합니다.
- $$n\tau$$가 지나면 최종값의 $$100\left(1-\displaystyle\frac{1}{e^n}\right)\ \%$$만큼 근접합니다.

보통 $$3\tau$$를 **정착 시간(Settling Time)**으로 이용합니다.
